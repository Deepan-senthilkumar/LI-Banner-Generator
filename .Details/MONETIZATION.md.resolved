# ğŸ’° Monetization & Payments

Architecture for the Freemium SaaS model.

## ğŸ“¦ Plans

| Feature | Free Plan | Pro Plan (â‚¹499/mo) |
| :--- | :--- | :--- |
| **Watermark** | Yes | **Removed** |
| **Templates** | Basic Only | **All Premium** |
| **Projects** | Limit 3 | **Unlimited** |
| **Brand Kit** | No | **Yes** (Colors/Logos) |
| **Export** | Standard (PNG) | High-Res (Retina PNG) |

## ğŸ’³ Payment Flow (Razorpay)

1.  **Initiate**: User clicks "Upgrade" -> Frontend calls `POST /api/billing/order`
2.  **Order API**: Backend creates Razorpay Order -> Returns `order_id`.
3.  **Checkout**: Frontend opens Razorpay Modal with `order_id`.
4.  **Payment**: User pays -> Razorpay returns `payment_id` + `signature`.
5.  **Verification**: Frontend calls `POST /api/billing/verify` with signature.
6.  **Provisioning**: Backend verifies signature -> Updates User `plan = 'pro'` -> Returns new Token.

## ğŸ” Feature Gating (Frontend)

We use a `useEntitlements` hook to check access permissions.

```javascript
// usage
const { canUseFeature } = useEntitlements();

if (!canUseFeature('brand_kit')) {
  return <UpgradeLock feature="Brand Kit" />;
}
```

## ğŸ—„ï¸ Database Schema (User Extension)

```python
class User(Base):
    # ... existing fields
    plan: str = "free"  # free, pro
    billing_period_end: datetime = None
    razorpay_customer_id: str = None
```
